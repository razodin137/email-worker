name = "email-worker"
main = "worker.js"
compatibility_date = "2024-05-02"

# 2. Performance & Capability Flags
# Ensures modern JavaScript features and Node.js polyfills work
compatibility_flags = [ "nodejs_compat" ]

# 1. THE MISSING PIECE: AI Binding
# This allows env.AI.run() to function
[ai]
binding = "AI"



# 3. Observability
# This helps with debugging in the Cloudflare Dashboard
[observability]
enabled = true

# Note: You do not need to define the inbound email address here. 
# Email routing is configured in the Cloudflare Dashboard UI 
# under "Email" -> "Email Routing".